---
import Layout from "../layouts/Layout.astro"
import { Button } from "../components";
import { fetchCms } from "../utils/lib/cms";

type Faq = {
  title: string;
  content: string;
  id: string;
  _createdAt: string;
};

type FaqResponse = {
  data: {
    allFaqs: Faq[];
  }
};

const faqResponse: FaqResponse = await fetchCms<FaqResponse>('faqs');
const faqs = faqResponse.data.allFaqs;
---
<Layout>
  <div class="container">
    <div class="login-container">
      <h1>PDF Craft</h1>
      <h2>A complete online PDF management tool</h2>
      <div class="button-container">
        <Button type="linkButton" text="Sign-in" url="/signin" />
        <Button type="linkButton" text="Sign-up" url="/signup" />
      </div>
    </div>
    <div class="faq-container">
      <h2>Frequently Asked Questions</h2>
      {faqs.map((faq) => (
        <div>
          <h3>{faq.title}</h3>
          <p>{faq.content}</p>
        </div>
      ))}
    </div>
  </div>
</Layout>

<style>
  .container {
    text-align: center;
    display: grid;
  }
  .login-container {
    padding-top: 20em;
    padding-bottom: 20em;
    display: grid;
    place-items: center;;
  }
  .button-container {
    margin: 2em 0;
    display: flex;
    flex-direction: column;
    gap: 1em;
    min-width: 500px;
    max-width: 500px;
  }
  .faq-container {
    max-width: 800px;
    margin-bottom: 5em;
    text-align: left;
  }
</style>